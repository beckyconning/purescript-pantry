// Generated by psc version 0.7.1.0
"use strict";
var Prelude = require("Prelude");
var Data_Identity = require("Data.Identity");
var Control_Monad_Eff_Unsafe = require("Control.Monad.Eff.Unsafe");
var Control_Monad_ST = require("Control.Monad.ST");
var Control_Monad_Eff = require("Control.Monad.Eff");
var Data_Functor = require("Data.Functor");
var Data_Either = require("Data.Either");
var MonadRec = function (__superclass_Prelude$dotMonad_0, tailRecM) {
    this["__superclass_Prelude.Monad_0"] = __superclass_Prelude$dotMonad_0;
    this.tailRecM = tailRecM;
};
var tailRecM = function (dict) {
    return dict.tailRecM;
};
var tailRecM2 = function (__dict_MonadRec_0) {
    return function (f) {
        return function (a) {
            return function (b) {
                return tailRecM(__dict_MonadRec_0)(function (o) {
                    return f(o.a)(o.b);
                })({
                    a: a, 
                    b: b
                });
            };
        };
    };
};
var tailRecM3 = function (__dict_MonadRec_1) {
    return function (f) {
        return function (a) {
            return function (b) {
                return function (c) {
                    return tailRecM(__dict_MonadRec_1)(function (o) {
                        return f(o.a)(o.b)(o.c);
                    })({
                        a: a, 
                        b: b, 
                        c: c
                    });
                };
            };
        };
    };
};
var tailRecEff = function (f) {
    return function (a) {
        var fromRight = function (_103) {
            if (_103 instanceof Data_Either.Right) {
                return _103.value0;
            };
            throw new Error("Failed pattern match at /Users/beckyconning/Documents/purescript-pantry/bower_components/purescript-tailrec/src/Control/Monad/Rec/Class.purs line 87, column 3 - line 88, column 3: " + [ _103.constructor.name ]);
        };
        var f$prime = Prelude["<<<"](Prelude.semigroupoidFn)(Control_Monad_Eff_Unsafe.unsafeInterleaveEff)(f);
        return function __do() {
            var _14 = f$prime(a)();
            var _13 = {
                value: _14
            };
            (function () {
                while (!(function __do() {
                    var _12 = _13.value;
                    return (function () {
                        if (_12 instanceof Data_Either.Left) {
                            return function __do() {
                                var _11 = f$prime(_12.value0)();
                                _13.value = _11;
                                return Prelude["return"](Control_Monad_Eff.applicativeEff)(false)();
                            };
                        };
                        if (_12 instanceof Data_Either.Right) {
                            return Prelude["return"](Control_Monad_Eff.applicativeEff)(true);
                        };
                        throw new Error("Failed pattern match at /Users/beckyconning/Documents/purescript-pantry/bower_components/purescript-tailrec/src/Control/Monad/Rec/Class.purs line 74, column 1 - line 75, column 1: " + [ _12.constructor.name ]);
                    })()();
                })()) {

                };
                return {};
            })();
            return Prelude["<$>"](Control_Monad_Eff.functorEff)(fromRight)(Control_Monad_ST.readSTRef(_13))();
        };
    };
};
var tailRec = function (f) {
    return function (a) {
        var go = function (__copy__102) {
            var _102 = __copy__102;
            tco: while (true) {
                if (_102 instanceof Data_Either.Left) {
                    var __tco__102 = f(_102.value0);
                    _102 = __tco__102;
                    continue tco;
                };
                if (_102 instanceof Data_Either.Right) {
                    return _102.value0;
                };
                throw new Error("Failed pattern match at /Users/beckyconning/Documents/purescript-pantry/bower_components/purescript-tailrec/src/Control/Monad/Rec/Class.purs line 62, column 1 - line 63, column 1: " + [ _102.constructor.name ]);
            };
        };
        return go(f(a));
    };
};
var monadRecIdentity = new MonadRec(function () {
    return Data_Identity.monadIdentity;
}, function (f) {
    return Prelude["<<<"](Prelude.semigroupoidFn)(Data_Identity.Identity)(tailRec(Prelude["<<<"](Prelude.semigroupoidFn)(Data_Identity.runIdentity)(f)));
});
var monadRecEff = new MonadRec(function () {
    return Control_Monad_Eff.monadEff;
}, tailRecEff);
var forever = function (__dict_MonadRec_2) {
    return function (ma) {
        return tailRecM(__dict_MonadRec_2)(function (u) {
            return Data_Functor["<$"]((((__dict_MonadRec_2["__superclass_Prelude.Monad_0"]())["__superclass_Prelude.Applicative_0"]())["__superclass_Prelude.Apply_0"]())["__superclass_Prelude.Functor_0"]())(new Data_Either.Left(u))(ma);
        })(Prelude.unit);
    };
};
module.exports = {
    MonadRec: MonadRec, 
    forever: forever, 
    tailRecM3: tailRecM3, 
    tailRecM2: tailRecM2, 
    tailRecM: tailRecM, 
    tailRec: tailRec, 
    monadRecIdentity: monadRecIdentity, 
    monadRecEff: monadRecEff
};
